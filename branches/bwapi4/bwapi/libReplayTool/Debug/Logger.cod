; Listing generated by Microsoft (R) Optimizing Compiler Version 16.00.40219.01 

	TITLE	C:\Fili\Development\GP\RtsAiResearch\bwapi\bwapi\libReplayTool\Logger.cpp
	.686P
	.XMM
	include listing.inc
	.model	flat

INCLUDELIB MSVCRTD
INCLUDELIB OLDNAMES

PUBLIC	??_C@_01MCMALHOG@a?$AA@				; `string'
PUBLIC	??0Logger@ReplayTool@@QAE@PBD@Z			; ReplayTool::Logger::Logger
EXTRN	__imp__fopen:PROC
EXTRN	__RTC_CheckEsp:PROC
EXTRN	__RTC_Shutdown:PROC
EXTRN	__RTC_InitBase:PROC
;	COMDAT ??_C@_01MCMALHOG@a?$AA@
; File c:\fili\development\gp\rtsairesearch\bwapi\bwapi\libreplaytool\logger.cpp
CONST	SEGMENT
??_C@_01MCMALHOG@a?$AA@ DB 'a', 00H			; `string'
CONST	ENDS
;	COMDAT rtc$TMZ
rtc$TMZ	SEGMENT
__RTC_Shutdown.rtc$TMZ DD FLAT:__RTC_Shutdown
rtc$TMZ	ENDS
;	COMDAT rtc$IMZ
rtc$IMZ	SEGMENT
__RTC_InitBase.rtc$IMZ DD FLAT:__RTC_InitBase
; Function compile flags: /Odtp /RTCsu /ZI
rtc$IMZ	ENDS
;	COMDAT ??0Logger@ReplayTool@@QAE@PBD@Z
_TEXT	SEGMENT
tv68 = -208						; size = 4
_this$ = -8						; size = 4
_filename$ = 8						; size = 4
??0Logger@ReplayTool@@QAE@PBD@Z PROC			; ReplayTool::Logger::Logger, COMDAT
; _this$ = ecx

; 7    : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec d0 00 00
	00		 sub	 esp, 208		; 000000d0H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	51		 push	 ecx
  0000d	8d bd 30 ff ff
	ff		 lea	 edi, DWORD PTR [ebp-208]
  00013	b9 34 00 00 00	 mov	 ecx, 52			; 00000034H
  00018	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001d	f3 ab		 rep stosd
  0001f	59		 pop	 ecx
  00020	89 4d f8	 mov	 DWORD PTR _this$[ebp], ecx
  00023	83 7d 08 00	 cmp	 DWORD PTR _filename$[ebp], 0
  00027	75 0c		 jne	 SHORT $LN3@Logger
  00029	c7 85 30 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv68[ebp], 0
  00033	eb 21		 jmp	 SHORT $LN4@Logger
$LN3@Logger:
  00035	8b f4		 mov	 esi, esp
  00037	68 00 00 00 00	 push	 OFFSET ??_C@_01MCMALHOG@a?$AA@
  0003c	8b 45 08	 mov	 eax, DWORD PTR _filename$[ebp]
  0003f	50		 push	 eax
  00040	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__fopen
  00046	83 c4 08	 add	 esp, 8
  00049	3b f4		 cmp	 esi, esp
  0004b	e8 00 00 00 00	 call	 __RTC_CheckEsp
  00050	89 85 30 ff ff
	ff		 mov	 DWORD PTR tv68[ebp], eax
$LN4@Logger:
  00056	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  00059	8b 95 30 ff ff
	ff		 mov	 edx, DWORD PTR tv68[ebp]
  0005f	89 11		 mov	 DWORD PTR [ecx], edx

; 8    : }

  00061	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00064	5f		 pop	 edi
  00065	5e		 pop	 esi
  00066	5b		 pop	 ebx
  00067	81 c4 d0 00 00
	00		 add	 esp, 208		; 000000d0H
  0006d	3b ec		 cmp	 ebp, esp
  0006f	e8 00 00 00 00	 call	 __RTC_CheckEsp
  00074	8b e5		 mov	 esp, ebp
  00076	5d		 pop	 ebp
  00077	c2 04 00	 ret	 4
??0Logger@ReplayTool@@QAE@PBD@Z ENDP			; ReplayTool::Logger::Logger
_TEXT	ENDS
PUBLIC	??1Logger@ReplayTool@@QAE@XZ			; ReplayTool::Logger::~Logger
EXTRN	__imp__fclose:PROC
; Function compile flags: /Odtp /RTCsu /ZI
;	COMDAT ??1Logger@ReplayTool@@QAE@XZ
_TEXT	SEGMENT
_this$ = -8						; size = 4
??1Logger@ReplayTool@@QAE@XZ PROC			; ReplayTool::Logger::~Logger, COMDAT
; _this$ = ecx

; 11   : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec cc 00 00
	00		 sub	 esp, 204		; 000000ccH
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	51		 push	 ecx
  0000d	8d bd 34 ff ff
	ff		 lea	 edi, DWORD PTR [ebp-204]
  00013	b9 33 00 00 00	 mov	 ecx, 51			; 00000033H
  00018	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001d	f3 ab		 rep stosd
  0001f	59		 pop	 ecx
  00020	89 4d f8	 mov	 DWORD PTR _this$[ebp], ecx

; 12   :   if (file != nullptr)

  00023	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00026	83 38 00	 cmp	 DWORD PTR [eax], 0
  00029	74 21		 je	 SHORT $LN2@Logger@2

; 13   :   {
; 14   :     fclose(file);

  0002b	8b f4		 mov	 esi, esp
  0002d	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00030	8b 08		 mov	 ecx, DWORD PTR [eax]
  00032	51		 push	 ecx
  00033	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__fclose
  00039	83 c4 04	 add	 esp, 4
  0003c	3b f4		 cmp	 esi, esp
  0003e	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 15   :     file = nullptr;

  00043	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00046	c7 00 00 00 00
	00		 mov	 DWORD PTR [eax], 0
$LN2@Logger@2:

; 16   :   }
; 17   : }

  0004c	5f		 pop	 edi
  0004d	5e		 pop	 esi
  0004e	5b		 pop	 ebx
  0004f	81 c4 cc 00 00
	00		 add	 esp, 204		; 000000ccH
  00055	3b ec		 cmp	 ebp, esp
  00057	e8 00 00 00 00	 call	 __RTC_CheckEsp
  0005c	8b e5		 mov	 esp, ebp
  0005e	5d		 pop	 ebp
  0005f	c3		 ret	 0
??1Logger@ReplayTool@@QAE@XZ ENDP			; ReplayTool::Logger::~Logger
_TEXT	ENDS
PUBLIC	??_C@_01EEMJAFIK@?6?$AA@			; `string'
PUBLIC	?writeLine@Logger@ReplayTool@@QAAXPBDZZ		; ReplayTool::Logger::writeLine
EXTRN	__imp__fprintf_s:PROC
EXTRN	__imp__vfprintf_s:PROC
;	COMDAT ??_C@_01EEMJAFIK@?6?$AA@
CONST	SEGMENT
??_C@_01EEMJAFIK@?6?$AA@ DB 0aH, 00H			; `string'
; Function compile flags: /Odtp /RTCsu /ZI
CONST	ENDS
;	COMDAT ?writeLine@Logger@ReplayTool@@QAAXPBDZZ
_TEXT	SEGMENT
_vl$66632 = -8						; size = 4
_this$ = 8						; size = 4
_pszFormat$ = 12					; size = 4
?writeLine@Logger@ReplayTool@@QAAXPBDZZ PROC		; ReplayTool::Logger::writeLine, COMDAT

; 20   : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec cc 00 00
	00		 sub	 esp, 204		; 000000ccH
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	8d bd 34 ff ff
	ff		 lea	 edi, DWORD PTR [ebp-204]
  00012	b9 33 00 00 00	 mov	 ecx, 51			; 00000033H
  00017	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001c	f3 ab		 rep stosd

; 21   :   if (file != nullptr)

  0001e	8b 45 08	 mov	 eax, DWORD PTR _this$[ebp]
  00021	83 38 00	 cmp	 DWORD PTR [eax], 0
  00024	74 4a		 je	 SHORT $LN2@writeLine

; 22   :   {
; 23   :     va_list vl;
; 24   :     va_start(vl,pszFormat);

  00026	8d 45 10	 lea	 eax, DWORD PTR _pszFormat$[ebp+4]
  00029	89 45 f8	 mov	 DWORD PTR _vl$66632[ebp], eax

; 25   :     vfprintf_s(file, pszFormat, vl);

  0002c	8b f4		 mov	 esi, esp
  0002e	8b 45 f8	 mov	 eax, DWORD PTR _vl$66632[ebp]
  00031	50		 push	 eax
  00032	8b 4d 0c	 mov	 ecx, DWORD PTR _pszFormat$[ebp]
  00035	51		 push	 ecx
  00036	8b 55 08	 mov	 edx, DWORD PTR _this$[ebp]
  00039	8b 02		 mov	 eax, DWORD PTR [edx]
  0003b	50		 push	 eax
  0003c	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__vfprintf_s
  00042	83 c4 0c	 add	 esp, 12			; 0000000cH
  00045	3b f4		 cmp	 esi, esp
  00047	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 26   :     fprintf_s(file, "\n");

  0004c	8b f4		 mov	 esi, esp
  0004e	68 00 00 00 00	 push	 OFFSET ??_C@_01EEMJAFIK@?6?$AA@
  00053	8b 45 08	 mov	 eax, DWORD PTR _this$[ebp]
  00056	8b 08		 mov	 ecx, DWORD PTR [eax]
  00058	51		 push	 ecx
  00059	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__fprintf_s
  0005f	83 c4 08	 add	 esp, 8
  00062	3b f4		 cmp	 esi, esp
  00064	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 27   :     va_end(vl);

  00069	c7 45 f8 00 00
	00 00		 mov	 DWORD PTR _vl$66632[ebp], 0
$LN2@writeLine:

; 28   :   }
; 29   : }

  00070	5f		 pop	 edi
  00071	5e		 pop	 esi
  00072	5b		 pop	 ebx
  00073	81 c4 cc 00 00
	00		 add	 esp, 204		; 000000ccH
  00079	3b ec		 cmp	 ebp, esp
  0007b	e8 00 00 00 00	 call	 __RTC_CheckEsp
  00080	8b e5		 mov	 esp, ebp
  00082	5d		 pop	 ebp
  00083	c3		 ret	 0
?writeLine@Logger@ReplayTool@@QAAXPBDZZ ENDP		; ReplayTool::Logger::writeLine
_TEXT	ENDS
END
